/* Chat Mobile Responsiveness Fixes */

/* Mobile breakpoint for all chat components */
@media (max-width: 768px) {
  
  /* Fix Sheet content width on mobile */
  [data-radix-dialog-content] {
    width: 100vw !important;
    max-width: 100vw !important;
    margin: 0 !important;
    border-radius: 0 !important;
  }
  
  /* Fix chat sheet specific sizing */
  .chat-sheet-content {
    width: 100vw !important;
    max-width: 100vw !important;
  }
  
  /* Message bubble improvements */
  .message-bubble-container {
    padding: 0.5rem !important;
  }
  
  /* Fix message content text wrapping */
  .message-bubble-container .w-full {
    max-width: 100% !important;
    overflow-wrap: break-word !important;
    word-wrap: break-word !important;
    word-break: break-word !important;
    hyphens: auto !important;
  }
  
  /* ReactMarkdown content in messages */
  .message-bubble-container .prose {
    max-width: none !important;
    overflow-wrap: break-word !important;
    word-wrap: break-word !important;
    word-break: break-word !important;
  }
  
  /* Markdown elements inside messages */
  .message-bubble-container .prose p,
  .message-bubble-container .prose div,
  .message-bubble-container .prose span,
  .message-bubble-container .prose li {
    overflow-wrap: break-word !important;
    word-wrap: break-word !important;
    word-break: break-word !important;
    max-width: 100% !important;
  }
  
  /* Code blocks in messages */
  .message-bubble-container .prose pre,
  .message-bubble-container .prose code {
    white-space: pre-wrap !important;
    overflow-wrap: break-word !important;
    word-break: break-all !important;
    max-width: 100% !important;
    overflow-x: auto !important;
  }
  
  /* Fix message content padding to avoid buttons */
  .message-bubble-container .prose {
    padding-right: 2.5rem !important;
    padding-bottom: 2.5rem !important;
  }
  
  /* Fix user messages */
  .message-bubble-container p {
    white-space: pre-wrap !important;
    overflow-wrap: break-word !important;
    word-wrap: break-word !important;
    word-break: break-word !important;
  }
  
  /* Accordion content in chats page */
  [data-radix-accordion-content] {
    overflow: hidden !important;
  }
  
  /* ScrollArea in conversations */
  .conversation-scroll-area {
    width: 100% !important;
    overflow-x: hidden !important;
  }
  
  .conversation-scroll-area [data-radix-scroll-area-viewport] {
    overflow-x: hidden !important;
    max-width: 100% !important;
  }
  
  /* Fix suggested prompts horizontal scrolling */
  .prompt-scroll-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
  }
  
  .prompt-scroll-container::-webkit-scrollbar {
    display: none !important;
  }
  
  /* Fix prompt buttons */
  .suggested-prompt-button {
    white-space: nowrap !important;
    flex-shrink: 0 !important;
    min-width: fit-content !important;
  }
  
  /* Fix input area */
  .chat-input-container {
    padding: 0.5rem !important;
  }
  
  /* Fix message buttons positioning */
  .message-actions {
    position: absolute !important;
    bottom: 0.5rem !important;
    right: 0.5rem !important;
  }
  
  /* Long URLs and links */
  .message-bubble-container a {
    word-break: break-all !important;
    overflow-wrap: break-word !important;
  }
  
  /* Tables in messages */
  .message-bubble-container table {
    width: 100% !important;
    table-layout: fixed !important;
    overflow-wrap: break-word !important;
  }
  
  .message-bubble-container td,
  .message-bubble-container th {
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    max-width: 100px !important;
  }
  
}

/* Very small screens - iPhone SE and similar */
@media (max-width: 480px) {
  
  /* Further reduce padding on very small screens */
  .message-bubble-container {
    padding: 0.25rem !important;
  }
  
  .chat-input-container {
    padding: 0.25rem !important;
  }
  
  /* Make text slightly smaller on very small screens */
  .message-bubble-container .text-sm {
    font-size: 0.8rem !important;
  }
  
  /* Stack action buttons vertically if needed */
  .message-actions {
    flex-direction: column !important;
    gap: 0.25rem !important;
  }
  
}

/* Force break-word on all chat text content */
.chat-text-content,
.chat-message-content,
.message-content {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
  max-width: 100% !important;
  white-space: pre-wrap !important;
}

/* Fix ReactMarkdown specific issues */
.chat-markdown-content * {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
  max-width: 100% !important;
}